
% Auto-generated by generate_diagrams.py
\begin{tikzpicture}[node distance=1.5cm]
  % Styles
  \tikzset{
    block/.style={draw, rounded corners, thick, align=center, fill=slate800, text=slate100, inner sep=6pt},
    data/.style={draw, rounded corners, thick, align=center, fill=slate700, text=slate100, inner sep=6pt},
    process/.style={draw, rounded corners, thick, align=center, fill=slate700, text=slate100, inner sep=6pt},
    result/.style={draw, rounded corners, thick, align=center, fill=slate800, text=slate100, inner sep=6pt},
    dashedblock/.style={draw=slate700, rounded corners, thick, align=center, dashed, inner sep=6pt},
    line/.style={-Latex, very thick, draw=cyan400},
    thinlink/.style={-Latex, thick, draw=indigo400},
  }

  % Inputs (fixed spacing)
  \node[data] (features) at (0,0) {Engineered Features\\(elevation, indices, distances, etc.)};

  % Base learners row
  \node[block] (rf)   at (-5,-2.2) {Random Forest\\$n$ trees};
  \node[block] (xgb)  at (0,-2.2)  {XGBoost\\GBDT};
  \node[block] (lgbm) at (5,-2.2)  {LightGBM\\GBDT};

  % Ensemble and output
  \node[process] (ens)  at (0,-4.5) {Soft Voting / Averaging};
  \node[result]  (proba) at (0,-6.8) {Gold Presence Probability\\[2pt] \\( p(\\mathrm{Au}=1\\mid \\mathbf{x}) \\)};

  % Links
  \draw[line] (features) -- (rf);
  \draw[line] (features) -- (xgb);
  \draw[line] (features) -- (lgbm);
  \draw[line] (rf) -- (ens);
  \draw[line] (xgb) -- (ens);
  \draw[line] (lgbm) -- (ens);
  \draw[line] (ens) -- (proba);

  % Side panels
  \node[dashedblock, right=6.5cm of xgb, align=left, inner sep=8pt] (trainbox) {Training Details:\\
    \begin{tabular}{@{}l@{}}
      Spatial CV (k-fold)\\
      Class balance check\\
      Hyperparams (depth, estimators, lr)\\
      Early stopping (boosting models)
    \end{tabular}
  };

  \node[dashedblock, left=6.8cm of xgb, align=left, inner sep=8pt] (evalbox) {Evaluation Metrics:\\
    \begin{tabular}{@{}l@{}}
      Accuracy, Precision, Recall\\
      F1, ROC-AUC\\
      Precision@k (targeting)
    \end{tabular}
  };

  \draw[thinlink] (trainbox.west) -- ++(-0.7,0) |- (xgb);
  \draw[thinlink] (evalbox.east) -- ++(0.7,0) |- (xgb);
\end{tikzpicture}
